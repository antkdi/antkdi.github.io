---
title: "SQLD 분산 데이터베이스와 성능 요약"
comment: true
date: 2017-07-18
categories: [License, SQLD]
tags: [Distribute]

---

### 제6절 분산 데이터베이스와 성능

#### 1. 분산 데이터베이스의 개요

* 분산데이터베이스란 ? *

- 여러 곳으로 분산되어있는 데이터베이스를 하나의 가상 시스템으로 사용할 수 있도록 한 데이터베이스

- 논리적으로 동일한 시스템에 속하나 , 네트워크를 통해 물리적으로 분산되어 있는 데이터들의 모임

- 데이터베이스를 연결하는 빠른 네트워크환경을 이용하여 데이터베이스를 여러 지역 및 노드로 위치시켜 사용성/성능을 극대화 시킨 데이터베이스

  

#### 2. 분산 데이터베이스의 투명성 ( Transparency )

* 분산 데이터베이스가 되기 위해서는 6가지 투명성을 만족해야 한다 *

- 분할 투명성(단편화) : 하나의 논리적 Relation이 여러 단편으로 분할되어 각 단편의 사본이 여러 사이트에 저장

- 위치 투명성 : 사용하려는 데이터의 저장장소를 명시가 필요하지않음. 위치정보는 System Catelog 에 유지되어야 함.

- 지역사상 투명성 : 지역 DBMS 와 물리적 DB 사이의 Mapping 보장. 각 지역 시스템 이름과 무관한 이름 사용가능

- 중복 투명성 : DB 객체가 여러 사이트에 중복되어 있는지 알 필요가 없는 성질.

- 장애 투명성 : 구성요소의 장애에 무관한 트랜잭션의 원자성 유지

- 병행 투명성 : 다수 트랜잭션 동시수행시 결과의 일관성 유지, Timm Stamp, 분산 2단계 Locking 을 이용하여 구현

 ** 위의 특징을 모두 만족하며 구축하는 사례가 들물다

 ** 최근에는 분산환경의 데이터베이스를 구축하기 보다 통합하여 데이터베이스를 구축하는 사례가 늘고있음

 ** 업무적인 특징 및 지역적인 특징에 따라 적절히 활용하면, 다양한 장점을 가지고 있으므로 , 대량 데이터의 지역적/글로벌 처리 등에서 유용.

	 

  

#### 3. 분산 데이터베이스의 적용 방법 및 장단점

- 분산데이터베이스 적용 방법

	- 우수한 성능으로 현장에서 가치있게 사용하는 방법은 업무의 흐름을 보고 업무구성에 따른 아키텍처 특징에 따라 데이터베이스를 구성하는 것.

	단순히 분산환경에서 데이터베이스를 구축하는 것이 목적이 아니라, 업무의 특징에 따라 데이터베이스 분산구조를 선택적으로 설계하는 능력이 필요하다.

	이런 측면에서 데이터베이스 분산설계라는 측면보다 데이터베이스 구조설계라는 의미로 이해해도 무방.



- 분산 데이터베이스의 장단점

	- 장점

		- 지역 자치성, 점증적 시스템 용량 확장

		- 신뢰성과 가용성

		- 효용성과 융통성

		- 빠른 응답속도와 통신비용 절감

		- 데이터의 가용성과 신뢰성 증가

		- 시스템 규모의 적절한 조절

		- 각 지역 사용자의 요구 수용 증대

	   

	- 단점

		- 소프트웨어 개발비용

		- 오류의 잠재성 증대

		- 처리비용의 증대

		- 설계, 관리의 복잡성과 비용

		- 불규칙한 응답 속도

		- 통제의 어려움

		- 데이터 무결성에 대한 위협

  



#### 4. 분산 데이터베이스의 활용방향성

- 지역마다 데이터베이스가 있는 경우 또는 내부 업무와 외부 업무에 의한 분산 설계일경우

  

#### 5. 데이터베이스 분산구성의 가치

- 통합된 데이터베이스에서 제공 할 수 없는 빠른 성능을 제공하는것이 가능해진다.

  

#### 6. 분산 데이터베이스의 적용 기법

- 분산종류 : 테이블 위치분산, 테이블 분할분산, 테이블 복제분산, 테이블 요약분석전략이 있ㅇ므

- 가장 많이 사용하는 방식은 테이블 복제분산 방식이며 , 성능이 저하되는 많은 데이터베이스에서 가장 유용하게 적용할수 있는 기법이다.

- 설계하는 방법은 일단 통합 모델링을 하고 , 각 테이블별로 업무적 특징에 따라 지역 또는 서버별로 테이블을 분산 또는 복제배치하는 형태.



- 테이블 위치분산

	- 테이블 구조는 변하지 않으며 , 다른 데이터베이스에 중복되어 생성되지도 않는다.

	- 다만 설계된 테이블의 위치를 각각 다르게 위치시키는 것이다.

   

- 테이블 분할 분산

	- 단순히 테이블의 위치만 다른곳에 두는 것이 아니라 , 각 각 의 테이블을 쪼개어 분산

	- 수평분할 , 수직분할 등이 있다.

	  ** 수평분할

		- 테이블을 특정 칼럼의 값으로 ROW를 분리

		- 칼럼은 분리되지 않으며 데이터를 한군데 집합시켜 놓아도 PK에 의한 중복발생이 일어나지않는다.

		- 각 지사별로 사용하는 ROW 가 다를 때 이용한다.

		- 각 지사에 존재하는 테이블에 대해 통합처리하는 경우 JOIN이 발생하여 성능저하가 예상되므로, 통합처리 프로세스에는 타탕하지 않다.

	   

	  ** 수직분할

		- 특정 컬럼값 기준으로 분리

		- 컬럼을 기준으로 분할하였으므로 테이블에는 동일한 PK 구조와 값을 가지고 있어야한다.

		- 실제 프로젝트에서는 이런 환경을 구성하는 사례는 드물다.

	  

	

   

- 테이블 복제 분산

	동일한 테이블을 다른 지역이나 서버에 동시에 생성하여 관리하는 유형

	

	**부분 복제

	- 테이블의 일부내용만 다른 지역이나 서버에 위치시키는 방법

	- 본사데이터베이스에는 테이블의 전체내용이, 지사에는 지사별로 관계된 데이터만 들어가는 경우

	- 보통 지사에서 데이터가 먼저 발생되고 본사에는 지사데이터를 통합하여 발생

	- 실제 많이 사용되는 분산기법에 해당됨

	- 데이터를 복제하는데 많은 시간이 소요되므로 야간배치작업을 수행하며, 정합성을 일치시키는 것이 어렵기때문에 한쪽에서 수정하고 복사를 진행

	  

	** 광역복제

	- 테이블의 각 내용을 각 지역이나 서버에 위치시키는 방법

	- 본사와 지사가 동일한 데이터를 가지고있음

	- 실제 프로젝트에서 많이 사용함

	- 본사에서 데이터가 입력수정삭제되어 지사에서 이용

   

- 테이블 요약 분산

	테이블 요약분산은 데이터가 비슷하지만 서로 다른 유형으로 본사 지사가 존재하는 유형

	**분석요약

		- 각 지사별로 존재하는 요약정보를 본사에서 통합하여 다시 전체에 대해서 요약정보를 산출하는 분산방법

	 

	** 통합 요약

		- 각 지사별로 존재하는 다른 내용의 정보를 본사에 통합하여 다시 전체에 대해서 요약정보를 산출 하는 분산방법.

  



#### 7. 분산데이터베이스를 적용하여 성능이 향상된 사례



** 효과적인 경우 **

- 성능이 중요한 사이트

- 공통코드 기준정보, 마스터데이터 등에 대해서 분산환경을 구성하면 성능이 좋아짐

- 실시간 동기화가 요구되지 않을 때, 거의 실시간의 업무적인 특징을 가지고 있을때도 구성가능

- 특정 서버가 부하 집중시 부하를 분산하기 위해서.

- 백업 사이트를 구성할 때 간단하게 분산기능을 적용하여 구성가능

